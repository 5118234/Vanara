<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Kernel32.ReadFile Method (SafeFileHandle, Byte*, UInt32, IntPtr, NativeOverlapped*)</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:Vanara.PInvoke.Kernel32.ReadFile(Microsoft.Win32.SafeHandles.SafeFileHandle,System.Byte*,System.UInt32,System.IntPtr,System.Threading.NativeOverlapped*)" /><meta name="Description" content="Reads data from the specified file or input/output (I/O) device. Reads occur at the position specified by the file pointer if supported by the device." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Vanara.PInvoke" /><meta name="file" content="f57e3499-9f76-d39a-5879-86aff07aa835" /><meta name="guid" content="f57e3499-9f76-d39a-5879-86aff07aa835" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Vanara API Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d22522ce-4106-42b2-81eb-cb37a0f36df8.htm" title="Vanara API Documentation" tocid="roottoc">Vanara API Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="c0250011-c1b9-bc9a-b501-96a9795f44a5.htm" title="Vanara.PInvoke" tocid="c0250011-c1b9-bc9a-b501-96a9795f44a5">Vanara.PInvoke</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="44c5555c-a81e-30f0-1ed7-2f42856e9dd3.htm" title="Kernel32 Class" tocid="44c5555c-a81e-30f0-1ed7-2f42856e9dd3">Kernel32 Class</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="e0c356d3-afb6-0755-9784-8a8838aa400f.htm" title="Kernel32 Methods" tocid="e0c356d3-afb6-0755-9784-8a8838aa400f">Kernel32 Methods</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="4d88a99b-2df3-fd8e-036a-7a3cb5dfe685.htm" title="ReadFile Method " tocid="4d88a99b-2df3-fd8e-036a-7a3cb5dfe685">ReadFile Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="f57e3499-9f76-d39a-5879-86aff07aa835.htm" title="ReadFile Method (SafeFileHandle, Byte*, UInt32, IntPtr, NativeOverlapped*)" tocid="f57e3499-9f76-d39a-5879-86aff07aa835">ReadFile Method (SafeFileHandle, Byte*, UInt32, IntPtr, NativeOverlapped*)</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="5d924de7-cf9b-23ba-7b6f-b3de3be16ddf.htm" title="ReadFile Method (SafeFileHandle, Byte[], UInt32, UInt32, IntPtr)" tocid="5d924de7-cf9b-23ba-7b6f-b3de3be16ddf">ReadFile Method (SafeFileHandle, Byte[], UInt32, UInt32, IntPtr)</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="a645ca9b-3922-2033-3e5d-2f40968f9657.htm" title="ReadFile Method (SafeFileHandle, IntPtr, UInt32, UInt32, IntPtr)" tocid="a645ca9b-3922-2033-3e5d-2f40968f9657">ReadFile Method (SafeFileHandle, IntPtr, UInt32, UInt32, IntPtr)</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>Kernel32<span id="LST74B2D47A_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_0?cpp=::|nu=.");</script>ReadFile Method (SafeFileHandle, Byte<span id="LST74B2D47A_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_1?cpp=*");</script>, UInt32, IntPtr, NativeOverlapped<span id="LST74B2D47A_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_2?cpp=*");</script>)</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Reads data from the specified file or input/output (I/O) device. Reads occur at the position specified by the file pointer if supported by the device.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="c0250011-c1b9-bc9a-b501-96a9795f44a5.htm">Vanara.PInvoke</a><br />
    <strong>Assembly:</strong>
   Vanara.PInvoke.Kernel32 (in Vanara.PInvoke.Kernel32.dll) Version: 1.0.2<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EBCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBCA','cs','1','2');return false;">C#</a></div><div id="ID0EBCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EBCA','vb','2','2');return false;">VB</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EBCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EBCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EBCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">static</span> <span class="identifier">bool</span> <span class="identifier">ReadFile</span>(
	<span class="identifier">SafeFileHandle</span> <span class="parameter">hFile</span>,
	<span class="identifier">byte</span>* <span class="parameter">lpBuffer</span>,
	<span class="identifier">uint</span> <span class="parameter">nNumberOfBytesToRead</span>,
	<span class="identifier">IntPtr</span> <span class="parameter">lpNumberOfBytesRead</span>,
	<span class="identifier">NativeOverlapped</span>* <span class="parameter">lpOverlapped</span>
)</pre></div><div id="ID0EBCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="message">Visual Basic does not support APIs that consume or return unsafe types.</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EBCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">hFile</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/3y85x3e7" target="_blank">Microsoft.Win32.SafeHandles<span id="LST74B2D47A_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>SafeFileHandle</a><br />A handle to the device (for example, a file, file stream, physical disk, volume, console buffer, tape drive, socket, communications resource, mailslot, or pipe). The hFile parameter must have been created with read access. </dd><dt><span class="parameter">lpBuffer</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/yyb1w04y" target="_blank">System<span id="LST74B2D47A_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Byte</a>*<br />A pointer to the buffer that receives the data read from a file or device.</dd><dt><span class="parameter">nNumberOfBytesToRead</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/ctys3981" target="_blank">System<span id="LST74B2D47A_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>UInt32</a><br />The maximum number of bytes to be read.</dd><dt><span class="parameter">lpNumberOfBytesRead</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/5he14kz8" target="_blank">System<span id="LST74B2D47A_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>IntPtr</a><br />A pointer to the variable that receives the number of bytes read when using a synchronous hFile parameter. ReadFile sets this value to zero before doing any work or error checking. Use NULL for this parameter if this is an asynchronous operation to avoid potentially erroneous results.
            <p>This parameter can be NULL only when the lpOverlapped parameter is not NULL.</p></dd><dt><span class="parameter">lpOverlapped</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/7hyt05sc" target="_blank">System.Threading<span id="LST74B2D47A_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST74B2D47A_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>NativeOverlapped</a>*<br />A pointer to an OVERLAPPED structure is required if the hFile parameter was opened with FILE_FLAG_OVERLAPPED, otherwise it can be NULL.
            <p>If hFile is opened with FILE_FLAG_OVERLAPPED, the lpOverlapped parameter must point to a valid and unique OVERLAPPED structure, otherwise the function can incorrectly report that the read operation is complete.</p><p>For an hFile that supports byte offsets, if you use this parameter you must specify a byte offset at which to start reading from the file or device. This offset is specified by setting the Offset and OffsetHigh members of the OVERLAPPED structure. For an hFile that does not support byte offsets, Offset and OffsetHigh are ignored.</p><p>For more information about different combinations of lpOverlapped and FILE_FLAG_OVERLAPPED, see the Remarks section and the Synchronization and File Position section.</p></dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">Boolean</a><br />If the function succeeds, the return value is nonzero (TRUE). If the function fails, or is completing asynchronously, the return value is zero(FALSE). To get extended error information, call the GetLastError function.</div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID2RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="44c5555c-a81e-30f0-1ed7-2f42856e9dd3.htm">Kernel32 Class</a></div><div class="seeAlsoStyle"><a href="4d88a99b-2df3-fd8e-036a-7a3cb5dfe685.htm">ReadFile Overload</a></div><div class="seeAlsoStyle"><a href="c0250011-c1b9-bc9a-b501-96a9795f44a5.htm">Vanara.PInvoke Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>